{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"F:\\\\react\\\\chat_app\\\\react-chatengine-demo\\\\src\\\\components\\\\ChatInput\\\\ChatInput.jsx\",\n    _s = $RefreshSig$();\n\nimport { useChat } from 'context';\nimport { useState, useRef } from 'react';\nimport { Icon } from 'semantic-ui-react';\nimport { sendMessage } from 'react-chat-engine';\nexport const ChatInput = () => {\n  _s();\n\n  const {\n    chatConfig,\n    selectedChat\n  } = useChat();\n  const [chatInputText, setChatInputText] = useState('');\n  const [imageModelOpen, setImageModelOpen] = useState(false);\n  const inputRef = useRef(null);\n  const [image, setImage] = useState();\n\n  const onFileAttach = file => {\n    setImage(file);\n    setImageModelOpen(true);\n  };\n\n  const sendChatMessage = () => {\n    if (selectedChat && chatInputText) {\n      setChatInputText('');\n      sendMessage(chatConfig, selectedChat.id, {\n        text: chatInputText,\n        files: []\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-controls\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => {\n        const input = inputRef.current;\n\n        if (input) {\n          input.value = '';\n          input.click();\n        }\n      },\n      className: \"attachment-icon\",\n      children: /*#__PURE__*/_jsxDEV(Icon, {\n        name: \"attach\",\n        color: \"grey\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: chatInputText,\n      className: \"chat-input\",\n      placeholder: \"send a message\",\n      onKeyPress: e => {\n        if (e.key === 'Enter') {\n          sendChatMessage();\n        }\n      },\n      onChange: e => setChatInputText(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: sendChatMessage,\n      className: \"send-message-icon\",\n      children: /*#__PURE__*/_jsxDEV(Icon, {\n        name: \"send\",\n        color: \"green\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ChatInput, \"mNoOmAoK93qOqS1ucsjcIctpX/A=\", false, function () {\n  return [useChat];\n});\n\n_c = ChatInput;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatInput\");","map":{"version":3,"sources":["F:/react/chat_app/react-chatengine-demo/src/components/ChatInput/ChatInput.jsx"],"names":["useChat","useState","useRef","Icon","sendMessage","ChatInput","chatConfig","selectedChat","chatInputText","setChatInputText","imageModelOpen","setImageModelOpen","inputRef","image","setImage","onFileAttach","file","sendChatMessage","id","text","files","input","current","value","click","e","key","target"],"mappings":";;;;;AAAA,SAASA,OAAT,QAAwB,SAAxB;AACA,SAASC,QAAT,EAAmBC,MAAnB,QAAiC,OAAjC;AAEA,SAASC,IAAT,QAAqB,mBAArB;AACA,SAASC,WAAT,QAA4B,mBAA5B;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAAA;;AAC7B,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAA+BP,OAAO,EAA5C;AACA,QAAM,CAACQ,aAAD,EAAgBC,gBAAhB,IAAoCR,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACS,cAAD,EAAiBC,iBAAjB,IAAsCV,QAAQ,CAAC,KAAD,CAApD;AAEA,QAAMW,QAAQ,GAAGV,MAAM,CAAC,IAAD,CAAvB;AACA,QAAM,CAACW,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,EAAlC;;AAEA,QAAMc,YAAY,GAAGC,IAAI,IAAI;AAC3BF,IAAAA,QAAQ,CAACE,IAAD,CAAR;AACAL,IAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACD,GAHD;;AAKA,QAAMM,eAAe,GAAG,MAAM;AAC5B,QAAIV,YAAY,IAAIC,aAApB,EAAmC;AACjCC,MAAAA,gBAAgB,CAAC,EAAD,CAAhB;AACAL,MAAAA,WAAW,CAACE,UAAD,EAAaC,YAAY,CAACW,EAA1B,EAA8B;AACvCC,QAAAA,IAAI,EAAEX,aADiC;AAEvCY,QAAAA,KAAK,EAAE;AAFgC,OAA9B,CAAX;AAID;AACF,GARD;;AASA,sBACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA,4BACE;AACE,MAAA,OAAO,EAAE,MAAM;AACb,cAAMC,KAAK,GAAGT,QAAQ,CAACU,OAAvB;;AACA,YAAID,KAAJ,EAAW;AACTA,UAAAA,KAAK,CAACE,KAAN,GAAc,EAAd;AACAF,UAAAA,KAAK,CAACG,KAAN;AACD;AACF,OAPH;AAQE,MAAA,SAAS,EAAC,iBARZ;AAAA,6BAUE,QAAC,IAAD;AAAM,QAAA,IAAI,EAAC,QAAX;AAAoB,QAAA,KAAK,EAAC;AAA1B;AAAA;AAAA;AAAA;AAAA;AAVF;AAAA;AAAA;AAAA;AAAA,YADF,eAcE;AACE,MAAA,KAAK,EAAEhB,aADT;AAEE,MAAA,SAAS,EAAC,YAFZ;AAGE,MAAA,WAAW,EAAC,gBAHd;AAIE,MAAA,UAAU,EAAEiB,CAAC,IAAI;AACf,YAAIA,CAAC,CAACC,GAAF,KAAU,OAAd,EAAuB;AACrBT,UAAAA,eAAe;AAChB;AACF,OARH;AASE,MAAA,QAAQ,EAAEQ,CAAC,IAAIhB,gBAAgB,CAACgB,CAAC,CAACE,MAAF,CAASJ,KAAV;AATjC;AAAA;AAAA;AAAA;AAAA,YAdF,eA0BE;AAAK,MAAA,OAAO,EAAEN,eAAd;AAA+B,MAAA,SAAS,EAAC,mBAAzC;AAAA,6BACE,QAAC,IAAD;AAAM,QAAA,IAAI,EAAC,MAAX;AAAkB,QAAA,KAAK,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YA1BF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAgCD,CAtDM;;GAAMZ,S;UAC0BL,O;;;KAD1BK,S","sourcesContent":["import { useChat } from 'context';\r\nimport { useState, useRef } from 'react';\r\n\r\nimport { Icon } from 'semantic-ui-react';\r\nimport { sendMessage } from 'react-chat-engine';\r\n\r\nexport const ChatInput = () => {\r\n  const { chatConfig, selectedChat } = useChat();\r\n  const [chatInputText, setChatInputText] = useState('');\r\n  const [imageModelOpen, setImageModelOpen] = useState(false);\r\n\r\n  const inputRef = useRef(null);\r\n  const [image, setImage] = useState();\r\n\r\n  const onFileAttach = file => {\r\n    setImage(file);\r\n    setImageModelOpen(true);\r\n  };\r\n\r\n  const sendChatMessage = () => {\r\n    if (selectedChat && chatInputText) {\r\n      setChatInputText('');\r\n      sendMessage(chatConfig, selectedChat.id, {\r\n        text: chatInputText,\r\n        files: [],\r\n      });\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"chat-controls\">\r\n      <div\r\n        onClick={() => {\r\n          const input = inputRef.current;\r\n          if (input) {\r\n            input.value = '';\r\n            input.click();\r\n          }\r\n        }}\r\n        className=\"attachment-icon\"\r\n      >\r\n        <Icon name=\"attach\" color=\"grey\" />\r\n      </div>\r\n\r\n      <input\r\n        value={chatInputText}\r\n        className=\"chat-input\"\r\n        placeholder=\"send a message\"\r\n        onKeyPress={e => {\r\n          if (e.key === 'Enter') {\r\n            sendChatMessage();\r\n          }\r\n        }}\r\n        onChange={e => setChatInputText(e.target.value)}\r\n      />\r\n\r\n      <div onClick={sendChatMessage} className=\"send-message-icon\">\r\n        <Icon name=\"send\" color=\"green\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}