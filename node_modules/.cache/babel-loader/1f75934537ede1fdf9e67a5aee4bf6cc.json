{"ast":null,"code":"import{useEffect}from'react';export var useScrollToBottom=function useScrollToBottom(trigger,className){useEffect(function(){if(!!trigger){Promise.all(Array.from(document.images).filter(function(img){return!img.complete;}).map(function(img){return new Promise(function(resolve){img.onload=img.onerror=resolve;});})).then(function(){document.getElementsByClassName(className)[0].scrollTop=document.getElementsByClassName(className)[0].scrollHeight;});}},[trigger,className]);};","map":{"version":3,"sources":["F:/react/chat_app/react-chatengine-demo/src/hooks/useScrollToBottom.js"],"names":["useEffect","useScrollToBottom","trigger","className","Promise","all","Array","from","document","images","filter","img","complete","map","resolve","onload","onerror","then","getElementsByClassName","scrollTop","scrollHeight"],"mappings":"AAAA,OAASA,SAAT,KAA0B,OAA1B,CAEA,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,OAAD,CAAUC,SAAV,CAAwB,CACvDH,SAAS,CAAC,UAAM,CACd,GAAI,CAAC,CAACE,OAAN,CAAe,CACbE,OAAO,CAACC,GAAR,CACEC,KAAK,CAACC,IAAN,CAAWC,QAAQ,CAACC,MAApB,EACGC,MADH,CACU,SAAAC,GAAG,QAAI,CAACA,GAAG,CAACC,QAAT,EADb,EAEGC,GAFH,CAGI,SAAAF,GAAG,QACD,IAAIP,CAAAA,OAAJ,CAAY,SAAAU,OAAO,CAAI,CACrBH,GAAG,CAACI,MAAJ,CAAaJ,GAAG,CAACK,OAAJ,CAAcF,OAA3B,CACD,CAFD,CADC,EAHP,CADF,EASEG,IATF,CASO,UAAM,CACXT,QAAQ,CAACU,sBAAT,CACEf,SADF,EAEE,CAFF,EAEKgB,SAFL,CAEiBX,QAAQ,CAACU,sBAAT,CACff,SADe,EAEf,CAFe,EAEZiB,YAJL,CAKD,CAfD,EAgBD,CACF,CAnBQ,CAmBN,CAAClB,OAAD,CAAUC,SAAV,CAnBM,CAAT,CAoBD,CArBM","sourcesContent":["import { useEffect } from 'react';\r\n\r\nexport const useScrollToBottom = (trigger, className) => {\r\n  useEffect(() => {\r\n    if (!!trigger) {\r\n      Promise.all(\r\n        Array.from(document.images)\r\n          .filter(img => !img.complete)\r\n          .map(\r\n            img =>\r\n              new Promise(resolve => {\r\n                img.onload = img.onerror = resolve;\r\n              }),\r\n          ),\r\n      ).then(() => {\r\n        document.getElementsByClassName(\r\n          className,\r\n        )[0].scrollTop = document.getElementsByClassName(\r\n          className,\r\n        )[0].scrollHeight;\r\n      });\r\n    }\r\n  }, [trigger, className]);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}